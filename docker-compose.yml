services:
  urnetwork:
    # Option 1: Use GitHub Packages (Recommended - with new features)
    image: ghcr.io/trungdungalpha/docker-urnetwork:latest
    # Option 2: Use Docker Hub (Your repository)
    # image: kingofmmo/docker-urnetwork:latest
    # Option 3: Use Docker Hub (Original)
    # image: techroy23/docker-urnetwork:latest
    
    container_name: urnetwork
    platform: linux/amd64                         # linux/arm64
    restart: always
    privileged: true
    pull_policy: always
    
    environment:
      # Required - Auth Code (preferred, avoids 503 errors)
      AUTH_CODE: "your_auth_code_here"              # Get from https://app.ur.network/ â†’ Account Settings
      # Legacy fallback (may get 503 errors):
      # USER_AUTH: "example@gmail.com"
      # PASSWORD: "mYv3rYsEcUr3dP@sSw0rD"
      
      # Optional - GUI close feature (to reduce CPU usage)
      ENABLE_GUI_CLOSE: "true"                    # Set to "true" to enable GUI auto-close (requires xdotool and DISPLAY)
      GUI_WINDOW_NAME: "UrNetwork"                # Name of GUI window to close
      
      # Optional - Other features
      ENABLE_IP_CHECKER: "false"                  # Enable IP checker
    
    # Optional volumes
    volumes:
      # - /path/to/your/proxy.txt:/app/proxy.txt   # Proxy configuration file
      - vnstat_data:/var/lib/vnstat              # vnStat data persistence
    
    # Optional ports
    ports:
      - "8080:8080"                              # Stats portal: http://localhost:8080/cgi-bin/stats
    
    logging:
      driver: json-file
      options:
        max-size: "5m"
        max-file: "3"

# Optional volumes
volumes:
  vnstat_data:                                   # Persistent storage for vnStat data
